{"remainingRequest":"/Users/usuario/Desktop/SoftwareDEV/MisionTIC/mental-health-app/node_modules/babel-loader/lib/index.js!/Users/usuario/Desktop/SoftwareDEV/MisionTIC/mental-health-app/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/usuario/Desktop/SoftwareDEV/MisionTIC/mental-health-app/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/usuario/Desktop/SoftwareDEV/MisionTIC/mental-health-app/src/components/ContentFeed/components/Post.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/usuario/Desktop/SoftwareDEV/MisionTIC/mental-health-app/src/components/ContentFeed/components/Post.vue","mtime":1634286874614},{"path":"/Users/usuario/Desktop/SoftwareDEV/MisionTIC/mental-health-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/usuario/Desktop/SoftwareDEV/MisionTIC/mental-health-app/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/usuario/Desktop/SoftwareDEV/MisionTIC/mental-health-app/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/usuario/Desktop/SoftwareDEV/MisionTIC/mental-health-app/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgZ2V0RnJvbUxvY2FsIH0gZnJvbSAiQC91dGlscy9sb2NhbFN0b3JhZ2UiOwppbXBvcnQgeyB1cGRhdGVQb3N0IH0gZnJvbSAiQC9zZXJ2aWNlcy9wb3N0IjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJQb3N0IiwKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGl0ZW1zOiBbewogICAgICAgIGlkOiAxLAogICAgICAgIG1lc3NhZ2U6ICJIZWxsbyBicm8hIgogICAgICB9LCB7CiAgICAgICAgaWQ6IDIsCiAgICAgICAgbWVzc2FnZTogIllldCBhbm90aGVyIGNvbW1lbnQiCiAgICAgIH1dLAogICAgICB2b3RlZFBvc3Q6IGZhbHNlLAogICAgICBlZGl0YWJsZTogZmFsc2UsCiAgICAgIGlzQ29tbWVudGluZzogZmFsc2UsCiAgICAgIG5ld0NvbW1lbnQ6ICIiCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICB1c2VySWQoKSB7CiAgICAgIGNvbnN0IHVzZXJJZCA9IGdldEZyb21Mb2NhbCgidXNlciIpLnVzZXIuaWQ7CiAgICAgIHJldHVybiB1c2VySWQ7CiAgICB9LAoKICAgIHVzZXIoKSB7CiAgICAgIHJldHVybiBnZXRGcm9tTG9jYWwoInVzZXIiKTsKICAgIH0sCgogICAgY3VycmVudFBvc3QoKSB7CiAgICAgIGNvbnN0IGN1cnJlbnRQb3N0ID0gdGhpcy4kc3RvcmUuc3RhdGUucG9zdHMuZmlsdGVyKHBvc3QgPT4gewogICAgICAgIHJldHVybiBwb3N0LmlkLnRyaW0oKSA9PSB0aGlzLiRwcm9wcy5kYXRhLmlkLnRyaW0oKSA/IHBvc3QgOiBudWxsOwogICAgICB9KTsKICAgICAgcmV0dXJuIGN1cnJlbnRQb3N0Lmxlbmd0aCAhPT0gMCA/IGN1cnJlbnRQb3N0WzBdIDogbnVsbDsKICAgIH0KCiAgfSwKICBwcm9wczogWyJkYXRhIl0sCgogIGNyZWF0ZWQoKSB7CiAgICBjb25zdCBjYW5FZGl0UG9zdCA9IHRoaXMuZGV0ZXJtaW5lUG9zdE93bmVyc2hpcCgpOwoKICAgIGlmIChjYW5FZGl0UG9zdCkgey8vIHRoaXMuZWRpdGFibGUgPSB0cnVlOwogICAgfQoKICAgIGNvbnN0IGhhc0xpa2VkID0gdGhpcy4kcHJvcHMuZGF0YS5saWtlcy5maW5kKHVzZXJJZCA9PiB1c2VySWQgPT0gdGhpcy51c2VySWQpOwoKICAgIGlmIChoYXNMaWtlZCkgewogICAgICB0aGlzLnZvdGVkUG9zdCA9IHRydWU7CiAgICB9CiAgfSwKCiAgbW91bnRlZCgpIHt9LAoKICBtZXRob2RzOiB7CiAgICB2b3RlKGlkKSB7CiAgICAgIGlmICghdGhpcy52b3RlZFBvc3QpIHsKICAgICAgICB0aGlzLnZvdGVkUG9zdCA9ICF0aGlzLnZvdGVkUG9zdDsKICAgICAgICBjb25zdCBuZXdMaWtlc0FycmF5ID0gdGhpcy4kcHJvcHMuZGF0YS5saWtlcy5jb25jYXQodGhpcy51c2VySWQpOwogICAgICAgIHVwZGF0ZVBvc3QoewogICAgICAgICAgbmV3UG9zdERhdGE6IHsKICAgICAgICAgICAgbGlrZXM6IG5ld0xpa2VzQXJyYXkKICAgICAgICAgIH0sCiAgICAgICAgICBwb3N0SWQ6IHRoaXMuJHByb3BzLmRhdGEuaWQKICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgidm90ZVBvc3QiLCB7CiAgICAgICAgICAgIHVwZGF0ZWRQb3N0OiByZXMuZGF0YQogICAgICAgICAgfSk7IC8vIGNvbnNvbGUubG9nKCdyZXMnLHJlcyk7CiAgICAgICAgICAvLyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgidXBkYXRlUG9zdCIsIHJlcy5kYXRhKTsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICBjb25zdCBuZXdMaWtlc0FycmF5ID0gdGhpcy4kcHJvcHMuZGF0YS5saWtlcy5maWx0ZXIobGlrZSA9PiBsaWtlICE9PSB0aGlzLnVzZXJJZCk7CiAgICAgICAgdXBkYXRlUG9zdCh7CiAgICAgICAgICBuZXdQb3N0RGF0YTogewogICAgICAgICAgICBsaWtlczogbmV3TGlrZXNBcnJheQogICAgICAgICAgfSwKICAgICAgICAgIHBvc3RJZDogdGhpcy4kcHJvcHMuZGF0YS5pZAogICAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdkb3dudm90ZWQgcG9zdCByZXN1bCcsIHJlcy5kYXRhKTsKICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJ1cGRhdGVQb3N0IiwgcmVzLmRhdGEpOwogICAgICAgICAgdGhpcy52b3RlZFBvc3QgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKCiAgICBlZGl0UG9zdCgpIHsKICAgICAgY29uc3QgY2FuRWRpdFBvc3QgPSB0aGlzLmRldGVybWluZVBvc3RPd25lcnNoaXAoKTsKCiAgICAgIGlmIChjYW5FZGl0UG9zdCkgewogICAgICAgIHRoaXMuZWRpdGFibGUgPSAhdGhpcy5lZGl0YWJsZTsKICAgICAgfQogICAgfSwKCiAgICB1cGRhdGVQb3N0KCkgewogICAgICBjb25zdCBuZXdQb3N0Q29udGVudCA9IHRoaXMuJHByb3BzLmRhdGEuY29udGVudC5yZXBsYWNlKCJcbiIsICIiKTsKICAgICAgdXBkYXRlUG9zdCh7CiAgICAgICAgbmV3UG9zdERhdGE6IHsKICAgICAgICAgIGNvbnRlbnQ6IG5ld1Bvc3RDb250ZW50CiAgICAgICAgfSwKICAgICAgICBwb3N0SWQ6IHRoaXMuJHByb3BzLmRhdGEuaWQKICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJ1cGRhdGVQb3N0IiwgcmVzLmRhdGEpOwogICAgICAgIHRoaXMuZWRpdGFibGUgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAoKICAgIGRldGVybWluZVBvc3RPd25lcnNoaXAoKSB7CiAgICAgIGNvbnN0IG93bmVyc2hpcFJlc3VsdCA9IHRoaXMuJHByb3BzLmRhdGEudXNlci5pZC50cmltKCkgPT0gdGhpcy51c2VySWQudHJpbSgpID8gdHJ1ZSA6IGZhbHNlOwogICAgICByZXR1cm4gb3duZXJzaGlwUmVzdWx0OwogICAgfSwKCiAgICBoYXNWb3RlZFBvc3QoKSB7CiAgICAgIGNvbnN0IGhhc0xpa2VkID0gdGhpcy4kcHJvcHMuZGF0YS5saWtlcy5maW5kKHVzZXJJZCA9PiB1c2VySWQgPT0gdGhpcy51c2VySWQpOwogICAgICByZXR1cm4gaGFzTGlrZWQgIT09IHVuZGVmaW5lZCA/IHRydWUgOiBmYWxzZTsKICAgIH0sCgogICAgbmV3Q29tbWVudEhhbmRsZXIoKSB7CiAgICAgIHRoaXMuaXNDb21tZW50aW5nID0gIXRoaXMuaXNDb21tZW50aW5nOwogICAgfSwKCiAgICBzZW5kQ29tbWVudEhhbmRsZXIoKSB7CiAgICAgIHVwZGF0ZVBvc3QoewogICAgICAgIG5ld1Bvc3REYXRhOiB7CiAgICAgICAgICBuZXdDb21tZW50OiB7CiAgICAgICAgICAgIGNvbW1lbnQ6IHRoaXMubmV3Q29tbWVudCwKICAgICAgICAgICAgYXV0aG9yOiB0aGlzLnVzZXIudXNlci51c2VybmFtZQogICAgICAgICAgfQogICAgICAgIH0sCiAgICAgICAgcG9zdElkOiB0aGlzLiRwcm9wcy5kYXRhLmlkCiAgICAgIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgidXBkYXRlUG9zdCIsIHJlcy5kYXRhKTsKICAgICAgfSk7CiAgICB9LAoKICAgIGZvcm1hdFN0cmluZyhzdHJpbmdEYXRlKSB7CiAgICAgIHZhciBvcHRpb25zID0gewogICAgICAgIHllYXI6ICJudW1lcmljIiwKICAgICAgICBtb250aDogInNob3J0IiwKICAgICAgICBkYXk6ICJudW1lcmljIgogICAgICB9OwogICAgICBsZXQgcG9zdERhdGUgPSBuZXcgRGF0ZShzdHJpbmdEYXRlKTsKICAgICAgcmV0dXJuIHBvc3REYXRlLnRvTG9jYWxlRGF0ZVN0cmluZygiZW4tVVMiLCBvcHRpb25zKTsKICAgIH0sCgogICAgZ29Ub1Byb2ZpbGVIYW5kbGVyKCkgewogICAgICBjb25zb2xlLmxvZygic2VhcmNoaW5nIHByb2ZpbGUiKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6IGBwcm9maWxlYCwKICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgIGlkOiB0aGlzLmN1cnJlbnRQb3N0LnVzZXIuaWQKICAgICAgICB9CiAgICAgIH0pOwogICAgfQoKICB9Cn07"},{"version":3,"sources":["Post.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <div class=\"post-avatar\">\n      <div class=\"d-flex justify-content-center align-items-center\">\n        <span @click=\"goToProfileHandler\"><b-avatar text=\"BV\"></b-avatar></span>\n      </div>\n      <div class=\"info d-flex flex-column align-items-start\">\n        <p class=\"username m-0\">@{{ currentPost.user.username }}</p>\n\n        <p class=\"date font-weight-lighter\">\n          {{ formatString(currentPost.created_at) }}\n        </p>\n      </div>\n      <b-icon-three-dots @click=\"editPost()\" />\n    </div>\n    <div class=\"post-content pl-5\">\n      <p v-if=\"!editable\" class=\"comment-txt\">\n        {{ currentPost.content }}\n      </p>\n      <textarea\n        v-else\n        v-model=\"currentPost.content\"\n        v-on:keyup.enter=\"updatePost()\"\n      ></textarea>\n      <div class=\"action-icons\">\n        <div>\n          1\n          <b-icon-chat @click=\"newCommentHandler\" />\n        </div>\n        <div class=\"d-flex ml-2\">\n          {{ currentPost.likes.length }}\n          <div class=\"ml-1\" v-bind:class=\"[votedPost ? 'voted' : 'not-voted']\">\n            <b-icon-suit-heart-fill @click=\"vote(currentPost.id)\" />\n          </div>\n        </div>\n      </div>\n      <div v-if=\"isCommenting\">\n        <div class=\"form-group\">\n          <input\n            class=\"form-control form-control-sm\"\n            type=\"text\"\n            placeholder=\"new comment..\"\n            v-model=\"newComment\"\n          />\n        </div>\n        <div class=\"d-flex flex-column justify-content-end align-items-end\">\n          <div class=\"comment-post-action-wrapper d-flex flex-row\">\n            <b-button\n              size=\"sm\"\n              pill\n              variant=\"primary\"\n              class=\"mr-2\"\n              @click=\"sendCommentHandler\"\n              >Send</b-button\n            >\n            <b-button\n              size=\"sm\"\n              pill\n              variant=\"outline-danger\"\n              @click=\"newCommentHandler\"\n              >X</b-button\n            >\n          </div>\n        </div>\n      </div>\n    </div>\n    <div\n      class=\"post-comments\"\n      v-for=\"comment in currentPost.comments\"\n      :key=\"comment.id\"\n    >\n      <b-avatar class=\"icon\"></b-avatar>\n      <div class=\"comment\">\n        <p class=\"\">@{{ comment.author }}</p>\n        <p class=\"comment-txt\">{{ comment.content }}</p>\n      </div>\n    </div>\n\n    <div class=\"overflow-auto\"></div>\n  </div>\n</template>\n\n<script>\nimport { getFromLocal } from \"@/utils/localStorage\";\nimport { updatePost } from \"@/services/post\";\nexport default {\n  name: \"Post\",\n  data() {\n    return {\n      items: [\n        { id: 1, message: \"Hello bro!\" },\n        { id: 2, message: \"Yet another comment\" },\n      ],\n      votedPost: false,\n      editable: false,\n      isCommenting: false,\n      newComment: \"\",\n    };\n  },\n  computed: {\n    userId() {\n      const userId = getFromLocal(\"user\").user.id;\n      return userId;\n    },\n    user() {\n      return getFromLocal(\"user\");\n    },\n    currentPost() {\n      const currentPost = this.$store.state.posts.filter((post) => {\n        return post.id.trim() == this.$props.data.id.trim() ? post : null;\n      });\n\n      return currentPost.length !== 0 ? currentPost[0] : null;\n    },\n  },\n\n  props: [\"data\"],\n  created() {\n    const canEditPost = this.determinePostOwnership();\n    if (canEditPost) {\n      // this.editable = true;\n    }\n    const hasLiked = this.$props.data.likes.find(\n      (userId) => userId == this.userId\n    );\n    if (hasLiked) {\n      this.votedPost = true;\n    }\n  },\n  mounted() {},\n  methods: {\n    vote(id) {\n      if (!this.votedPost) {\n        this.votedPost = !this.votedPost;\n        const newLikesArray = this.$props.data.likes.concat(this.userId);\n        updatePost({\n          newPostData: { likes: newLikesArray },\n          postId: this.$props.data.id,\n        }).then((res) => {\n          this.$store.dispatch(\"votePost\", { updatedPost: res.data });\n          // console.log('res',res);\n          // this.$store.dispatch(\"updatePost\", res.data);\n        });\n      } else {\n        const newLikesArray = this.$props.data.likes.filter(\n          (like) => like !== this.userId\n        );\n        updatePost({\n          newPostData: { likes: newLikesArray },\n          postId: this.$props.data.id,\n        }).then((res) => {\n          // console.log('downvoted post resul', res.data);\n          this.$store.dispatch(\"updatePost\", res.data);\n          this.votedPost = false;\n        });\n      }\n    },\n    editPost() {\n      const canEditPost = this.determinePostOwnership();\n      if (canEditPost) {\n        this.editable = !this.editable;\n      }\n    },\n    updatePost() {\n      const newPostContent = this.$props.data.content.replace(\"\\n\", \"\");\n      updatePost({\n        newPostData: { content: newPostContent },\n        postId: this.$props.data.id,\n      }).then((res) => {\n        this.$store.dispatch(\"updatePost\", res.data);\n        this.editable = false;\n      });\n    },\n    determinePostOwnership() {\n      const ownershipResult =\n        this.$props.data.user.id.trim() == this.userId.trim() ? true : false;\n      return ownershipResult;\n    },\n    hasVotedPost() {\n      const hasLiked = this.$props.data.likes.find(\n        (userId) => userId == this.userId\n      );\n      return hasLiked !== undefined ? true : false;\n    },\n    newCommentHandler() {\n      this.isCommenting = !this.isCommenting;\n    },\n    sendCommentHandler() {\n      updatePost({\n        newPostData: {\n          newComment: {\n            comment: this.newComment,\n            author: this.user.user.username,\n          },\n        },\n        postId: this.$props.data.id,\n      }).then((res) => {\n        this.$store.dispatch(\"updatePost\", res.data);\n      });\n    },\n    formatString(stringDate) {\n      var options = { year: \"numeric\", month: \"short\", day: \"numeric\" };\n      let postDate = new Date(stringDate);\n      return postDate.toLocaleDateString(\"en-US\", options);\n    },\n    goToProfileHandler() {\n      console.log(\"searching profile\");\n      this.$router.push({ path: `profile`, params:{id: this.currentPost.user.id} });\n    },\n  },\n};\n</script>\n\n<style scoped>\n.wrapper {\n  display: flex;\n  flex-direction: column;\n  /* background-color: #e7f5ff; */\n  /* background-color: #dff9fd ; */\n  padding: 0.5rem;\n  border-radius: 0.5rem;\n  margin-bottom: 2rem;\n}\n\n.wrapper .post-avatar {\n  display: flex;\n  gap: 1rem;\n}\n\n.info .date {\n  font-size: 0.8rem;\n}\n.wrapper .post-content {\n  margin: 0.5rem 0.5rem;\n  width: 90%;\n}\n.action-icons {\n  margin-top: 0.5rem;\n  text-align: center;\n  display: flex;\n  justify-content: center;\n}\n.action-icons :first-child {\n  margin-right: 0.2rem;\n}\n.post-comments {\n  display: flex;\n  margin-left: 1rem;\n  margin-top: 1rem;\n}\n.comment {\n  flex: 1;\n  border: 1px solid #ede9e9;\n  display: table-cell;\n  margin-left: 20px;\n  margin-right: 1rem;\n  padding: 10px;\n  vertical-align: top;\n  position: relative;\n  width: 65%;\n}\n.username {\n  font-weight: bold;\n}\n.comment-txt {\n  font-size: 0.9rem;\n  color: #575757;\n}\n.comment::before {\n  border-bottom: 10px solid transparent;\n  border-right: 11px solid #ede9e9;\n  border-top: 10px solid transparent;\n  left: -11px;\n  top: 10px;\n  position: absolute;\n  content: \"\";\n}\n.comment::after {\n  border-bottom: 8px solid transparent;\n  border-right: 9px solid #fff;\n  border-top: 8px solid transparent;\n  left: -9px;\n  top: 12px;\n  position: absolute;\n  content: \"\";\n}\n.post-comments > .comment {\n  color: #707070;\n}\n\n/* icons */\n.bi-suit-heart-fill > * {\n  cursor: pointer;\n  transition: all 2s;\n  font-size: 1rem;\n  /* color: rgb(146, 10, 10); */\n}\n.not-voted {\n  color: rgb(206, 206, 206) !important;\n}\n.voted {\n  color: rgb(201, 69, 69);\n}\n.bi-suit-heart-fill:hover {\n  transition: all 1s;\n  font-size: 1.5rem;\n}\n\n/* Edit Post Icon */\n.bi-three-dots {\n  cursor: pointer;\n}\n\n.comment-post-action-wrapper {\n  /* width: 20%; */\n}\n</style>\n"],"sourceRoot":"src/components/ContentFeed/components"}]}